//***********************************

@import '../../../core/imports'

//***********************************
// Theme Variables
//***********************************

$content-block-bg-light: $white
$content-block-bg-shade: $dark-brand-color
$content-block-padding: 40px 0
$content-block-container-padding: 0 20px
$content-block-bg-brand: transparent

//***********************************
// Custom Override Styles
//***********************************

.custom .content-block

  &__heading
    display: flex
    font-size: (30/16)+rem
    font-weight: 900
    justify-content: space-between    

  .actions__inner,
  &__heading
    .button
      text-transform: none

  &--light
    + .content-block--light
      padding-top: 0

    .carousel__scroll-track
      background: $dark-brand-color

    .carousel__scroll-handle
      background: $brand-color

  &--shade
    color: $white

    + .content-block--shade
      padding-top: 0

    .carousel__heading,
    .card__title,
    .card__copy,
    .tweet__copy,
    .tweet__title,
    .tweet__handle,
    .account-manager__title,
    .account-manager__text
      color: $white

  &--related-pages

    .card
      box-shadow: 0px 4px 6px rgba($black, .2)
      height: 100%

    .card__title
      font-size: (20/16)+rem

    .card__content
      background: $white
      padding: 20px

      .carousel__heading,
      .card__title,
      .card__copy
        color: $base-color

    .card__description
      padding: 20px

  &--text
    padding-top: 90px
    padding-bottom: 90px

    h2
      
      font-weight: 900
      font-size: (36/16)+rem
      line-height: .9

    p
      font-size: (15/16)+rem

    .wysiwyg
      display: flex
      justify-content: center
      flex-direction: column

  &--quote
    blockquote
      max-width: 780px
      margin: 0 auto

    h2
      font-size: (36/16)+rem
      font-weight: 900
      line-height: .9
      margin-bottom: 20px
      

    cite
      font-size: (15/16)+rem
      font-style: normal
      font-weight: 300

  &--image
    &.content-block--text,
    &.content-block--related-pages,
    &.content-block--promo-carousel
      background-size: cover
      background-position: center center
      background-repeat: no-repeat
      position: relative
      color: $white
      .wysiwyg *
        color: white !important //need to override inline styles of wysiwyg editor!

      &:before
        background: rgba($brand-color, .85)
        bottom: 0
        content: ''
        left: 0
        pointer-events: none
        position: absolute
        right: 0
        top: 0
        z-index: 1

      .container
        position: relative
        z-index: 2

    &.content-block--promo-carousel
      background-size: contain
      background-position: left center
      padding-top: 97px
      padding-bottom: 60px

      .carousel__heading
        color: $white

      .tabs
        border-color: $white
        margin-bottom: 65px
        position: relative
        z-index: 2

      &:after
        background: linear-gradient(to right, rgba($white, 0) 0%, $brand-color 20% ,$brand-color 100%)
        bottom: 0
        content: ''
        right: 0
        pointer-events: none
        position: absolute
        width: 70%
        top: 0
        z-index: 0

      .card__copy,
      .card__title
        color: $white
        margin-bottom: 5px

      .card__description
        .card__copy

    &.content-block--cast-and-crew
      background-size: contain !important
      background-position: left center !important
      background-repeat: no-repeat !important
      background-size: cover
      padding-bottom: 0
      position: relative

      .container
        position: relative
        z-index: 2

      &:before
        background: rgba($white, .8)
        bottom: 0
        content: ''
        left: 0
        pointer-events: none
        position: absolute
        right: 0
        top: 0
        z-index: 1

      &:after
        background: linear-gradient(to right, rgba($white, 0) 0%, $white 20% ,$white 100%)
        bottom: 0
        content: ''
        right: 0
        pointer-events: none
        position: absolute
        width: 70%
        top: 0
        z-index: 0

  &--recommended-programmes,
    + .content-block--shade
      .button--filled
        &:hover
          border-color: $white

  &--brand
    $circle-size: 969px

    &.content-block--text
      overflow: hidden
      position: relative

      .container
        position: relative
        z-index: 1
        overflow: visible

      .grid--two
        color: $white

        .wysiwyg
          *
            position: relative
            z-index: 2

          &:before
            background: $dark-brand-color
            border-radius: 50%
            content: ''
            height: $circle-size
            left: 690 - $circle-size
            right: auto
            pointer-events: none
            position: absolute
            bottom: -90px
            width: $circle-size
            z-index: 1

        .content-block__media
          position: relative
          z-index: 2
          + .wysiwyg
            &:before
              left: auto
              right: 690 - $circle-size


  &--most-popular.content-block--light
    .carousel__scroll-track
      background-color: rgba($brand-color, .5)
    .carousel__scroll-handle
      background-color: $brand-color
    .carousel__arrow
      background-color: $brand-color
      &::after
        border-color: $white
      &:hover
        background-color: tint($brand-color, 15%)

  &--most-popular
    .carousel .card:not(.card--small)
      min-height: 300px

  &--twitter
    padding-top: 100px
    padding-bottom: 100px

    .container
      position: relative

    .content-block__heading
      display: block
      position: absolute
      left: 0
      top: 50%
      transform: translate(0, -50%)
      width: 25%
      margin: 0
      max-width: 150px

    .grid
      margin-left: 25%

  +breakpoint(large, min)

    &--text
      .grid--two
        .wysiwyg
          padding-right: 50px
          padding-left: 0
          width: calc(33.333% - 70px)

        .content-block__media
          width: calc(66.666% - 20px)
          + .wysiwyg
            padding-left: 50px
            padding-right: 0
            width: calc(33.333% - 70px)

  +breakpoint(1800)

    &--image
      &.content-block--promo-carousel
        background-size: cover !important
        background-position: center !important

      &.content-block--cast-and-crew
        background-size: cover !important
        background-position: center !important

  +breakpoint(medium)

    &__heading
      font-size: (20/16)+rem
      flex-direction: column

    &--text
      h2
        font-size: (28/16)+rem

      .wysiwyg
        &::before
          border-radius: 0
          width: 200%

    &--quote
      h2
        font-size: (28/16)+rem


.custom
  .breadcrumbs
    + .content-block
      padding-top: 45px

  .section:not(.section--shade)
    + .content-block--light
      padding-top: 0

  .section--shade
    + .content-block--shade
      padding-top: 0

  .fade-on-load
    >.content-block:last-child
      padding-bottom: 80px


